<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户页面</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <link rel="stylesheet" href="/static/css/me.css" >

</head>
<body>
<!--导航栏-->
<!--inverter反转，segment片段-->
<nav class="ui inverted attached segment">
    <div class="ui container">
        <div class="ui inverted secondary stackable menu">
            <h2 class="ui teal header item">Blog</h2>
            <!--m-item无样式作用，用于js绑定-->
            <a href="#" class="item m-mobile-hide m-item"><i class="home icon"></i>首页</a>
            <a href="#" class="item m-mobile-hide m-item"><i class="idea icon"></i>分类</a>
            <a href="" class="item m-mobile-hide m-item"
            th:href="@{|/people/${session.user.userId}/notification|}"><i class="alarm icon"></i>通知
                <div class="ui inverted basic left pointing label"
                      th:text="${session.unreadCount}">未读
                </div>
            </a>
            <a href="#" class="item m-mobile-hide m-item"><i class="info icon"></i>关于我</a>
            <div class="right item m-mobile-hide m-item-search">
                <div class="ui icon input inverted">
                    <input type="text" placeholder="Search....">
                    <i class="search link icon"></i>

                </div>
            </div>

            <div class="right item  m-mobile-hide">
                <div>
                    <p th:text="'你好,'+${session.user.userName}">你好，用户</p>
                </div>
                <a href="http://www.baidu.com" style="padding-left: 10px">
                    <img src="/static/images/user.jpg" alt="" class="ui avatar image"
                    th:src="${session.user.userImg}">
                </a>
                <span>&nbsp;&nbsp;</span>
                <a href="/logout">  退出</a>
            </div>
            <!--手机端自适应右上角菜单按钮-->
            <div class="ui inverted secondary m-mobile-show m-right-top menu ">
                <a href="#" class="ui black icon button" id="mobile-btn">
                    <i class="sidebar icon"></i>
                </a>
                <a href="#" class="ui black icon button" id="mobile-btn1">
                    <i class="search link icon"></i>
                </a>
                <a href="#" class="ui black icon button" id="mobile-btn2">
                    <img src="/static/images/user.jpg" alt="" class="ui avatar image">
                </a>
            </div>



        </div>
    </div>
</nav>

<!--中间内容-->
<div>
    <div class="m-padded-tb-large">
        <div class="ui m-container">
            <div class="ui stackable grid">
                <!--左边列表-->
                <div class="eleven wide column">
                    <!--头像区域-->
                    <div class="ui segment top attached">
                        <div class="ui horizontal link list">
                            <div class="item">
                                <!--avatar圆形图片-->
                                <img src="/static/images/user.jpg" alt="" class="ui avatar image" style="width: 160px!important;height: 160px!important;"
                                th:src="${people.userImg}">

                            </div>
                            <div class="item tear">
                                <h1 class="header" th:text="${people.userName}">用户</h1>
                                <div th:if="${owner}">
                                    <a href="" style="margin-top:10px!important;"
                                    th:href="@{|/people/${peopleId}/4|}">编辑资料</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--已发布信息区域-->
                    <div class="ui segment">

                        <div class="ui menu stackable"
                       >
                            <a th:class="${parCategory}=='1'?'active item':'item'"
                               th:href="@{|/people/${peopleId}/1|}"
                                >
                                <i class="privacy icon"></i> 失物招领
                            </a>
                            <a th:class="${parCategory}=='2'?'active item':'item'"
                                   th:href="@{|/people/${peopleId}/2|}">
                                <i class="shop icon"></i> 二手交易
                            </a>
                            <a th:class="${parCategory}=='3'?'active item':'item'"
                               th:href="@{|/people/${peopleId}/3|}">
                                <i class="exchange icon"></i> 校园互助
                            </a>
                            <a th:class="${parCategory}=='4'?'active item':'item'"
                               th:href="@{|/people/${peopleId}/4|}">
                                <i class="money icon"></i> 兼职信息
                            </a>
                            <a th:class="${parCategory}=='5'?'active item':'item'"
                               th:href="@{|/people/${peopleId}/5|}">
                                <i class="student icon"></i> 校园公告
                            </a>
                           <!-- <a th:class="${parCategory}=='6'?'active item':'item'"
                               th:href="@{|/people/${peopleId}/6|}">
                                <i class="travel icon"></i> 企业信息
                            </a>-->
                            <a th:class="${parCategory}=='notification'?'active item':'item'"
                               th:href="@{'/people/'+${peopleId}+'/notification'}">
                                <i class="alarm icon"></i>
                                <span th:text="${owner}?'我的通知':'他的回复'">我的通知</span>
                            </a>


                        </div>

                        <table class="ui celled stackable table"
                               th:unless="${notificationInfo}">
                            <thead class="m-mobile-hide">
                            <tr>

                                <th>标题</th>
                                <th th:if="${owner}">操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="list:${pageInfo.getList()}">

                                <td><a href="" th:text="${list.articleTitle}"
                                                th:href="@{|/${parCategory}/${list.lostArticleId}|}">文章标题</a></td>
                                <td th:if="${owner}">
                                    <a th:href="@{'/'+${parCategory}+'/'+update(articleId=${list.lostArticleId})}" class="ui mini teal basic button">编辑</a>
                                    <a href="#" class="ui mini red basic button delete-btn"
                                    th:attr="del_uri=@{'/'+${parCategory}+'/'+delete(articleId=${list.lostArticleId})}">删除</a>
                                </td>
                            </tr>
                            </tbody>
                            <tfoot>
                            <tr>
                                <th colspan="6">
                                    <div class="ui mini pagination menu">
                                        <a class="item"
                                           th:href="@{'/people/'+${peopleId}+'/'+${parCategory}(page=${pageInfo.pageNum - 1})}"
                                           th:style="${pageInfo.pageNum - 1}<=0?'pointer-events: none;':'pointer-events:true'">
                                            上一页
                                        </a>
                                        <a class="item"
                                           th:href="@{'/people/'+${peopleId}+'/'+${parCategory}(page=${pageInfo.pageNum + 1})}"
                                           th:style="${pageInfo.pageNum + 1}>${pageInfo.pages}?'pointer-events: none;':'pointer-events:true'"
                                        >
                                            下一页
                                        </a>
                                    </div>
                                    <a href="#" class="ui mini right floated teal basic button"
                                       th:if="${owner}"
                                       th:href="@{|/${parCategory}/add|}"
                                    >新增</a>
                                </th>
                            </tr>
                            </tfoot>
                        </table>

                        <div class="ui  message" th:if="${notificationInfo}">
                            <div class="header"
                                 th:text="${owner}?'我的通知':'他的回复'">我的通知</div>
                            <div class="ui divider"></div>
                            <ul class="list">
                                <li th:each="notification:${notificationInfo.getList()}">
                                    <div>
                                        <a href="" th:text="${notification.notifier.userName}"
                                        th:href="@{|/people/${notification.notifier.userId}/1|}">谢豪</a>
                                        <span th:text="${notification.type}==1?'评论了文章':'回复了评论'">评论了文章</span>
                                        <a href="#" th:href="@{|/notification/${peopleId}/${notification.id}|}"
                                        th:text="${notification.outerTitle}">123</a>
                                        <div class="ui teal basic left pointing label"
                                             th:unless="${notification.status} " th:text="未读">未读</div>

                                    </div>

                                </li>

                            </ul>
                            <div class="ui divider"></div>
                            <div class="ui mini pagination menu">
                                <a class="item"
                                   th:href="@{'/people/'+${peopleId}+'/'+${parCategory}(page=${notificationInfo.pageNum - 1})}"
                                   th:style="${notificationInfo.pageNum - 1}<=0?'pointer-events: none;':'pointer-events:true'">
                                    上一页
                                </a>
                                <a class="item"
                                   th:href="@{'/people/'+${peopleId}+'/'+${parCategory}(page=${notificationInfo.pageNum + 1})}"
                                   th:style="${notificationInfo.pageNum + 1}>${notificationInfo.pages}?'pointer-events: none;':'pointer-events:true'"
                                >
                                    下一页
                                </a>
                            </div>

                        </div>


                    </div>




                </div>
                <!--右边列表-->
                <div class="five wide column">
                    <!--分类-->
                    <div class="ui segments">
                        <div class="ui secondary segment">
                            <div class="ui two column grid">
                                <div class="column">
                                    <i class="idea icon"></i>发帖
                                </div>
                                <div class="right aligned column">
                                    <a href="#" target="_blank">more <i class="angle double right icon"></i></a>
                                </div>
                            </div>
                        </div>
                        <div class="ui teal segment">
                            <div class="ui fluid vertical menu">
                                <a href="#" class="item">
                                    失物招领

                                </a>
                                <a href="#" class="item">
                                    二手交易

                                </a>
                                <a href="#" class="item">
                                    校园互助

                                </a>
                                <a href="#" class="item">
                                    校园公告

                                </a>
                                <a href="#" class="item">
                                    企业信息

                                </a>
                                <a href="#" class="item">
                                    兼职信息

                                </a>

                            </div>
                        </div>

                    </div>





                </div>
            </div>
        </div>
    </div>

    <br>
    <br>

</div>
<!--底部-->
<!--vertical垂直-->
<footer class="ui inverted segment vertical segment m-padded-tb-massive">
    <div class="ui container center aligned">
        <!--grid布局，共分16份,divided分割线-->
        <div class="ui inverted stackable divided grid">
            <div class="three wide column">
                <div class="ui inverted link list">
                    <div class="item">
                        <img src="/static/images/hzu.jpg" alt="" class="ui rounded image" style="width: 110px"/>
                    </div>
                </div>

            </div>
            <div class="three wide column">
                <h4 class="ui inverted header m-text-spaced m-opacity-mini">最新资讯</h4>
                <div class="ui inverted link list">
                    <a href="" class="item">用户故事</a>
                    <a href="" class="item">用户故事</a>
                    <a href="" class="item">用户故事</a>
                </div>
            </div>

            <div class="three wide column">

                <h4 class="ui inverted header m-text-spaced m-opacity-mini">最新资讯</h4>
                <div class="ui inverted link list">
                    <a href="" class="item">用户故事</a>
                    <a href="" class="item">用户故事</a>
                    <a href="" class="item">用户故事</a>
                </div>
            </div>

            <div class="seven wide column">
                <h4 class="ui inverted header m-text-spaced m-opacity-mini">最新资讯</h4>
                <p class="m-text-spaced m-opacity-mini">这是一个校园社区</p>

            </div>

        </div>

        <div class="ui inverted section divider"></div>
        <p class="m-text-thin m-text-spaced m-opacity-mini">Copyright © 2019 - 2020 Xiehao Designed by Xiehao</p>

    </div>

</footer>
<form  style="display: none" id="delForm" method="post">

</form>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>

<script>


    // 手机端右上角按钮点击事件
    $('#mobile-btn').click(function () {
        $('.m-item').toggleClass('m-mobile-hide');
    });

    $('#mobile-btn1').click(function () {
        $('.m-item-search').toggleClass('m-mobile-hide');
    });

    $('.delete-btn').click(function () {
        var msg = "您确定要删除该文章？";
        if (confirm(msg)==true){
            $("#delForm").attr("action",$(this).attr("del_uri")).submit();
            return false;
        }else{
            return false;
        }


    });

</script>
</body>
</html>